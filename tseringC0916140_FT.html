<html>
<font size="8" color="green">Final test lab</font><br><br>
Number of rows: <input type="text" id="t1" /><br><br>
Number of cols: <input type="text" id="t2" /><br><br>

<button id="b1" onclick="generateTable()">Generate Table</button><br><br>

<button id="b2" onclick="addColumn()">Add Column</button>

<button id="b3" onclick="addRow()">Add Row</button>

<script>

	// Function to generate the table
	function generateTable() {
		var rows = document.getElementById('t1').value;
		var cols = document.getElementById('t2').value;
		var table = '<table style="width: 100%; border: 1px solid black;">';
		// applyTableStyles(table);
		for (var i = 0; i < rows; i++) {
			table += '<tr>';
			for (var j = 0; j < cols; j++) {
				table += '<td style="border: 1px solid black; text-align: center;">' + 'Cell(' + i + ',' + j + ')</td>';
			}
			table += '</tr>';
		}
		table += '</table>';
		// remove all elements and add back the buttons only
		document.body.innerHTML = '<button id="b2" onclick="addColumn()">Add Column</button> <button id="b3" onclick="addRow()">Add Row</button>' + table;
	}

	function addColumn() {
		var table = document.querySelector('table');
		var rows = table.querySelectorAll('tr');

		rows.forEach(function (row, rowIndex) {
			var newCol = document.createElement('td');
			newCol.style.border = '1px solid black';
			newCol.style.textAlign = 'center';
			newCol.innerHTML = 'Cell(' + rowIndex + ',' + row.childElementCount + ')';
			applyCellStyles(newCol);
			row.appendChild(newCol);
		});
	}

	function addRow() {
    var table = document.querySelector('table');
    var cols = table.rows[0].cells.length; // Getting the number of columns from the first row
    var numRows = table.rows.length; // Getting the current number of rows in the table
    var newRow = document.createElement('tr');

    for (var i = 0; i < cols; i++) {
        var newCell = document.createElement('td');
        newCell.style.border = '1px solid black';
        newCell.style.textAlign = 'center';
        newCell.innerHTML = 'Cell(' + numRows + ',' + i + ')'; // numRows is used for the row index
		applyCellStyles(newCell);
        newRow.appendChild(newCell);
    }

    table.appendChild(newRow);
}

	// creating a helper function to add  style rows and cols
	function applyCellStyles(cell) {
		cell.style.border = '1px solid black';
		cell.style.textAlign = 'center';
		cell.style.padding = '10px';
}

</script>

</html>